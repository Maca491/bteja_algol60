begin
  var x : int;
  var y : int;
  var result : int;
  
  x := 100;
  y := 200;
  print("Globalni");
  print(x);
  print(y);
  
  function shadowTest(x : int, z : int) : int;
  begin
    var y : int;
    var temp : int;
    
    // Lokální x (parametr), zastíní globální x
    temp := x + 10;
    
    // Lokální y
    y := 50;
    
    // Vnoøená funkce s dalším zastínìním
    function innerShadow(x : int) : int;
    begin
      var y : int;
      // Toto x je parametr innerShadow, zastíní parametr shadowTest
      // Toto y je lokální v innerShadow, zastíní y ze shadowTest
      y := 5;
      print(x+y);
      return x + y;
    end
    
    // Volání vnoøené funkce
    temp := temp + innerShadow(20);
    
    // Po návratu z innerShadow, x je zase parametr shadowTest
    // y je stále lokální y z shadowTest (hodnota 50)
    temp := temp + y + z;
    
    print(temp);
    return temp;
  end
  
  result := shadowTest(15, 3);
  print(result);
  
  // Po návratu z funkce, x je opìt globální x=100
  result := result + x + y;
  
  print(result);
  return result;
end